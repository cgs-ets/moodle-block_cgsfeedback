/**
 * Provides the block_cgsfeedback/control module
 *
 * @package   block_cgsfeedback
 * @category  output
 * @copyright 2023 onwards Veronica Bermegui
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_cgsfeedback/control",["core/url","core/log"],(function(URL,Log){return{init:function(instanceid){function expandTable(e){console.log("expandTable"),console.log(e.target.getAttribute("data-courseid")),courseid=e.target.getAttribute("data-courseid");var table=document.getElementById("cgsfeedback-activities-container-".concat(courseid));console.log(table),table.removeAttribute("hidden"),document.querySelector('.cgsfeedback-expand-icon[data-courseid="'.concat(courseid,'"]')).setAttribute("hidden",!0),document.querySelector('.cgsfeedback-collapse-icon[data-courseid="'.concat(courseid,'"]')).removeAttribute("hidden")}function collapseTable(e){console.log("collapseTable"),console.log(e.target.getAttribute("data-courseid")),courseid=e.target.getAttribute("data-courseid"),document.getElementById("cgsfeedback-activities-container-".concat(courseid)).setAttribute("hidden",!0),document.querySelector('.cgsfeedback-collapse-icon[data-courseid="'.concat(courseid,'"]')).setAttribute("hidden",!0),document.querySelector('.cgsfeedback-expand-icon[data-courseid="'.concat(courseid,'"]')).removeAttribute("hidden")}Log.debug("block_cgsfeedback/control: initializing controls of the cgsfeedback block"),null!=document.getElementById("inst".concat(instanceid))?(document.querySelectorAll("section#inst32  img").forEach((function(image){var urlEncoded=encodeURIComponent(image.getAttribute("src"));console.log(urlEncoded);var userid=document.querySelector(".cgsfeedback-course-container").getAttribute("data-userid"),newURL=URL.relativeUrl("/local/parentview/get.php",{addr:urlEncoded,user:userid});image.setAttribute("src",newURL)})),document.querySelectorAll(".cgsfeedback-expand-icon").forEach((function(icon){return icon.addEventListener("click",expandTable)})),document.querySelectorAll(".cgsfeedback-collapse-icon").forEach((function(icon){return icon.addEventListener("click",collapseTable)}))):Log.debug("block_cgsfeedback/control: section not found!")}}}));

//# sourceMappingURL=control.min.js.map